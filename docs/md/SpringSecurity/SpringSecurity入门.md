------



# SpringSecurity入门

## 1 SpringSecurity基础

### 1.1 SpringSecurity简介

- SpringSecurity是一个功能强大且高度可定制的身份验证和访问控制框架。它是用于保护基于Spring的应用程序的实际标准。SpringSecurity是一个框架，致力于为Java应用程序提供身份验证和授权。与所有Spring项目一样，SpringSecurity的真正强大之处在于可以轻松扩展以满足自定义要求。

### 1.2 安全技术方案对比

- Apache Shiro：Shiro是一个强大灵活的开源安全框架，能够处理认证、授权、管理会话和密码加密。特点：

    - 易于理解的Java Security API
    
    - 简单的身份认证（登录），支持多数据源源（LDAP，JDBC，Kerberos，ActiveDirectory等）
    
    - 对角色的简单的鉴权（访问控制），支持细粒度的鉴权
    
    - 支持一级缓存，以提升应用程序的性能
    
    - 内置的基于POJO企业会话管理，适用于 Web 以及非 Web 的环境
    
    - 异构客户端会话访问
    
    - 非常简单的加密API
    
    - 不跟任何的框架或者容器捆绑，可以独立运行

- Spring Security

    - 除了不能够脱离Spring外，具有Shiro所有功能。而且Spring Security对Oauth、OpenID也有支持，Shiro则需要自己手动实现。Spring Security的权限细粒度更高。
    
        - OAuth：OAuth在“客户端”与“服务提供商”之间，设置了一个授权层。“客户端”不能直接登录“服务提供商”，只能登录授权层，以此将用户与客户端区分开来。“客户端”登录授权层所用的令牌（token），与用户的密码不同。用户可以在登录的时候，指定授权层令牌的权限范围和有效期。
        
        - OpenID：OpenID系统的第一部分是身份验证，即如何通过URI来认证用户身份。如果使用OpenID，网站地址（URI）就是用户名，而密码安全的存储在一个OpenID服务网站上（可以自己建立一个OpenID服务网站，也可以选择一个可信任的OpenID服务网站来完成注册）。

### 1.3 功能简介

- 认证: 用户登录

- 授权: 判断用户拥有什么权限，可以访问什么资源

- 安全防护，防止跨站请求，session攻击等

### 1.4 应用场景

- 用户登录, 传统基于web开发的项目的登录功能

- 用户授权, 在系统中用户拥有哪些操作权限

- 单一登录, 一个账号只能在同一时间只能在一个地方进行登录, 如果在其他地方进行第二次登录,则剔除之前登录操作

- 集成cas，做单点登录，即多个系统只需登录一次，无需重复登录

- 集成oauth2，做登录授权, 可以用于app登录和第三方登录(QQ，微信等), 也可以实现cas的功能