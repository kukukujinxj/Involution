------



# 分布式ID问题及解决方案

## 1 解决方案

### 1.1 UUID（可以⽤）

- UUID是通⽤唯⼀识别码，产⽣重复 UUID 并造成错误的情况⾮常低

### 1.2 独⽴数据库的⾃增ID

- 创建单独的数据库和表，作为生成ID的方式。需要使用全局唯一ID时，向该表中插入一条数据，获取该表中的自增ID

    - 使⽤独⽴的Mysql实例⽣成分布式id，虽然可⾏，但是性能和可靠性都不够好，因为需要代码连接到数据库才能获取到id，性能⽆法保障，另外mysql数据库实例挂掉了，那么就⽆法获取分布式id了

### 1.3 SnowFlake雪花算法（可以⽤，推荐）

- 雪花算法是Twitter推出的⼀个⽤于⽣成分布式ID的策略

- 雪花算法是⼀个算法，基于这个算法可以⽣成ID，⽣成的ID是⼀个long型，那么在Java中⼀个long型是8个字节，算下来是64bit

- 1位符号位，41位时间戳，10位机器ID和12位序列号（同一机器一毫秒可以产生不同序列号）

### 1.4 借助Redis的Incr命令获取全局唯⼀ID（推荐）

- Redis Incr命令将key中储存的数字值增⼀。如果key不存在，那么key的值会先被初始化为0，然后再执⾏INCR操作